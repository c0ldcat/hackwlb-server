(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{21:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var a=n(0);var r=n(30),c=n(8);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:"pending"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pending":return{error:void 0,result:e.result,state:"pending"};case"resolved":return{error:void 0,result:t.payload,state:"resolved"};case"rejected":return{error:t.payload,result:e.result,state:"rejected"};default:return e}}function l(e,t){var n=Object(a.useReducer)(o,{state:"pending"}),l=Object(c.a)(n,2),u=l[0],i=u.error,s=u.result,m=u.state,f=l[1],p=function(){var e=Object(a.useState)(!0),t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,function(){r(!n)}]}(),d=Object(c.a)(p,2),v=d[0],b=d[1];Object(a.useEffect)((function(){var t=function(e){return"function"===typeof e?e():e}(e);if(void 0!==t){var n=!1;return f({type:"pending"}),t.then((function(e){return!n&&f({payload:e,type:"resolved"})}),(function(e){return!n&&f({payload:e,type:"rejected"})})),function(){n=!0}}}),[].concat(Object(r.a)(t),[v]));var h=Object(a.useCallback)((function(){"pending"!==m&&b()}),[b,m]);return{data:s,error:i,state:m,retry:h}}var u=n(14),i=n.n(u),s=n(18);function m(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}n=document.getElementsByTagName("html")[0].innerHTML,e.next=10;break;case 4:return e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.text();case 9:n=e.sent;case 10:return e.next=12,p(n);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(i.a.mark((function e(t){var n,a,r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("html")).innerHTML=t,c=(null===(n=r.querySelector("head > title"))||void 0===n||null===(a=n.textContent)||void 0===a?void 0:a.trim())||"",o=r.querySelector("[id=blog-data]")||document.createElement("div"),l=h(o),e.abrupt("return",{title:c,nav:v(o),pagination:b(o),content:null===l||void 0===l?void 0:l.element,type:(null===l||void 0===l?void 0:l.type)||"empty"});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=Array.from(e.querySelectorAll("#blog-data-nav > ul > li > a")).map((function(e){return{name:e.textContent,href:e.getAttribute("href"),icon:((e.getAttribute("class")||"").split(" ").filter((function(e){return/^icon-/.test(e)}))[0]||"icon-default").replace(/^icon-/,"")}}));if(0!==t.length)return t}function b(e){var t=Array.from(e.querySelectorAll("#blog-data-page-pagination > ul > li > a")).map((function(e){var t;if(e.classList.contains("pagination-pager-current"))t=!0;else{if(!e.classList.contains("pagination-pager"))return;t=!1}return{name:e.textContent,href:e.getAttribute("href")||"#",current:t}})).filter(Boolean);if(0!==t.length)return t}function h(e){var t=e.querySelector("#blog-data-content > div");if(t)return{type:t.className,element:t}}},3:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f}));var a=n(8),r=n(0),c=n.n(r),o=n(1),l=n(21),u=c.a.createContext({title:"loading",type:"splash"});function i(){return Object(r.useContext)(u)}var s=c.a.createContext({state:"resolved",retry:function(){}});function m(){return Object(r.useContext)(s)}function f(t){var n=Object(o.d)().push;e.router=n;var i=Object(o.e)().pathname,m=Object(r.useState)(i),f=Object(a.a)(m,1)[0],p=Object(l.b)((function(){return Object(l.a)(i===f?void 0:i)}),[i]),d=p.data,v=p.state,b=p.retry,h=Object(r.useMemo)((function(){return d||{title:"loading",type:"splash"}}),[d]),g=Object(r.useMemo)((function(){return{state:v,retry:b}}),[v,b]);return Object(r.useEffect)((function(){document.title=h.title}),[h.title]),c.a.createElement(u.Provider,{value:h},c.a.createElement(s.Provider,{value:g},t.children))}}).call(this,n(17))},31:function(e,t,n){e.exports=n(54)},36:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6);Object(c.b)({type:"fallback",component:function(){var e="".concat(window.location.origin).concat(window.location.pathname,"?archive");return e!==window.location.href&&(window.location.href=e),r.a.createElement("div",null,"[WIP] ",r.a.createElement("a",{href:e},"Redirecting to old version..."))}})},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),l=n(11),u=(n(36),n(6)),i=n(3),s=n(15),m=n(8),f=n(1),p=n(29),d=n.n(p);n(50);function v(e){return r.a.createElement("span",{className:"command"},e.text)}function b(e){var t=Object(i.b)().pagination,n=Object(f.d)().push,c=Object(a.useCallback)(d()((function(e){void 0!==t&&(e<1||e>t.length||(console.log("goto "+t[e-1].href),n(t[e-1].href)))}),500),[n,t]),o=Object(a.useState)(e.page),l=Object(m.a)(o,2),u=l[0],s=l[1],p=Object(a.useCallback)((function(e){1<=e&&e<=(t||[]).length&&s(e)}),[s,t]);Object(a.useEffect)((function(){return c(u)}),[u]);var v=r.a.createElement(r.a.Fragment,null);if(void 0!==t){var b=t.length;v=r.a.createElement("span",{className:"auto-complete"},"\xa0of ",b,"\xa0",r.a.createElement("span",{className:"page-btns"},"(",r.a.createElement("a",{onClick:function(){return p(u-1)},className:"page-btn ".concat(1===u?"disabled":"")},"prev"),",\xa0",r.a.createElement("a",{onClick:function(){return p(u+1)},className:"page-btn ".concat(u===b?"disabled":"")},"next"),")"))}return r.a.createElement("span",{className:"pager command"},"page\xa0",r.a.createElement("input",{value:u,onChange:function(e){return p(parseInt(e.target.value))},type:"number"}),v)}var h=[function(e){if("/"===e.pathname)return r.a.createElement(v,{text:"screenfetch"})},function(e){var t=e.pathname.match(/^\/posts(?:|\/(\d*))\/?$/);if(null!==t){var n=parseInt(t[1]||"1");return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{text:"ls /posts"}),r.a.createElement(b,{page:n}))}},function(e){var t=e.pathname.match(/^\/posts\/([^/]{1,})\/?$/);if(null!==t)return r.a.createElement(v,{text:"open /posts/".concat(t[1])})},function(e){var t="cat "+e.pathname.replace(/\/$/,"").replace(/\.[^./]*/,"");return r.a.createElement(v,{text:t})}];function g(e){var t,n=Object(i.b)(),a=Object(i.c)(),c=a.state,o=a.retry,l=Object(f.d)().push,u=Object(f.e)().pathname;return r.a.createElement("div",{className:"terminal-nav blog-header ".concat(e.className||"")},r.a.createElement("div",{className:"command-line"},r.a.createElement("span",{className:"ps1 ".concat(c),onClick:function(){"rejected"===c?o():l("/")}}),r.a.createElement("span",{className:"command-pipeline"},function(e){var t,n=void 0,a=Object(s.a)(h);try{for(a.s();!(t=a.n()).done;)if(void 0!==(n=(0,t.value)(e)))return n}catch(r){a.e(r)}finally{a.f()}}({pathname:u})),"pending"===c&&r.a.createElement("span",{style:{margin:"0 0.3em",color:"var(--secondary-color)"}},"...")),r.a.createElement("nav",{className:"terminal-menu",style:{width:"auto",flexGrow:1}},r.a.createElement("ul",null,(null!==(t=n.nav)&&void 0!==t?t:[]).map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("a",{className:"menu-item",onClick:function(){l(e.href)}},e.name))})))))}n(51);function y(e){return r.a.createElement("div",{className:"blog-root-page"},r.a.createElement("div",{className:"header-box"},r.a.createElement(g,{className:"header"})),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"content"},e.children)))}Object(u.b)({type:"splash",component:function(){return r.a.createElement(r.a.Fragment,null)}}),Object(u.b)({type:"home",component:function(){var e=Object(i.b)(),t=Object(a.useMemo)((function(){var t;return null===(t=e.content)||void 0===t?void 0:t.querySelector(".message")}),[e.content]);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(null===t||void 0===t?void 0:t.outerHTML)||""}})}});n(52);function E(e){return Array.from(e.querySelectorAll("ul.posts-list > li")).map((function(e){return function(e){var t=e.querySelector("a.post-title");if(t){var n=e.querySelector(".post-date");if(n){var a=e.querySelector(".post-short-description");if(a){var r=Array.from(e.querySelectorAll(".post-tags > li > a.post-tag"));return{title:t.textContent||"",href:t.getAttribute("href")||"#",date:n.textContent||"",abstract:a.textContent||"",tags:r.map((function(e){return{name:e.textContent||"",href:e.getAttribute("href")||"#"}}))}}}}}(e)||{title:"ERROR",href:"#",date:"",abstract:"",tags:[]}}))}Object(u.b)({type:"posts-list",component:function(){var e=Object(i.b)().content,t=Object(f.d)().push,n=Object(a.useMemo)((function(){return e?E(e):[]}),[e]);return r.a.createElement("div",{className:"posts-list"},n.map((function(e){return r.a.createElement("div",{className:"post-item",key:e.href},r.a.createElement("div",{className:"title-line"},r.a.createElement("span",{className:"date"},e.date),r.a.createElement("a",{href:e.href,onClick:function(n){t(e.href),n.stopPropagation(),n.preventDefault()},className:"title"},e.title.trim()),r.a.createElement("div",{className:"tags-group"},e.tags.map((function(e){return r.a.createElement("span",{className:"tag-box",key:e.href},r.a.createElement("a",{className:"tag",href:e.href,onClick:function(n){t(e.href),n.stopPropagation(),n.preventDefault()}},e.name))})))),r.a.createElement("div",{className:"abstract"},e.abstract))})))}}),Object(u.b)({type:"message",component:function(){var e=Object(i.b)(),t=Object(a.useMemo)((function(){var t;return null===(t=e.content)||void 0===t?void 0:t.querySelector(".message")}),[e.content]);return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(null===t||void 0===t?void 0:t.outerHTML)||""}})}}),n(53);var j=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,null,r.a.createElement(y,null,r.a.createElement(u.a,null))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("blog"))},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(15),r=n(0),c=n.n(r),o=n(3);var l=[],u={type:"fallback",component:function(){var e=Object(o.b)().type;return c.a.createElement("div",null,"cannot recognize the page type: ",e)}};function i(e){"fallback"===e.type?u.component=e.component:l.push(e)}function s(){var e,t,n=Object(o.b)(),r=Object(a.a)(l);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.type===n.type){e=c.a.createElement(i.component,null);break}}}catch(s){r.e(s)}finally{r.f()}return void 0===e&&(e=c.a.createElement(u.component,null)),c.a.createElement(c.a.Fragment,null,e)}}},[[31,1,2]]]);
//# sourceMappingURL=main.9728e6e9.chunk.js.map